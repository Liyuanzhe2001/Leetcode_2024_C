#include "bits/stdc++.h"

using namespace std;

int res = 0;
vector<bool> vis;

int dfs(vector<vector<int>> &roads, int i) {
    int a = -1;
    int sum = 1;
    int add = 1;
    vis[i] = true;
    for (const auto &r: roads[i]) {
        if (vis[r]) {
            continue;
        }
        int tmp = dfs(roads, r);
        if (a == -1) {
            a = tmp;
        }
        if (a != tmp) {
            add = 0;
        }
        sum += tmp;
    }
    res += add;
    return sum;
}

int countGoodNodes(vector<vector<int>> &edges) {
    vis.resize(edges.size() + 1, false);
    vector<vector<int>> roads(edges.size() + 1);
    for (const auto &edge: edges) {
        roads[edge[0]].push_back(edge[1]);
        roads[edge[1]].push_back(edge[0]);
    }
    dfs(roads, 0);
    return res;
}


/*
[[0,1],[0,2],[1,3],[1,4],[2,5],[2,6]]
[[0,1],[1,2],[2,3],[3,4],[0,5],[1,6],[2,7],[3,8]]
[[0,1],[1,2],[1,3],[1,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[9,12],[10,11]]
[[6,0],[1,0],[5,1],[2,5],[3,1],[4,3]]
[[177,0],[282,177],[314,282],[424,314],[578,424],[291,578],[398,291],[630,398],[127,578],[353,578],[591,353],[65,591],[562,424],[329,562],[573,314],[525,573],[280,525],[536,525],[458,536],[372,536],[668,536],[162,668],[584,162],[26,584],[53,162],[313,282],[647,313],[223,647],[341,223],[632,341],[686,632],[184,686],[583,184],[76,583],[378,184],[653,378],[406,378],[401,184],[52,401],[481,52],[544,481],[540,481],[430,52],[259,430],[661,259],[227,661],[242,686],[676,242],[298,676],[62,298],[191,62],[516,191],[239,191],[675,62],[680,675],[599,680],[387,298],[68,387],[237,68],[98,68],[612,98],[283,68],[412,283],[386,632],[407,386],[41,407],[640,407],[228,341],[625,228],[672,625],[565,672],[472,565],[582,472],[179,472],[108,472],[233,672],[320,625],[270,320],[79,270],[176,270],[546,270],[307,270],[241,270],[220,625],[354,220],[356,354],[234,354],[621,354],[384,621],[15,354],[290,625],[27,290],[166,27],[256,27],[367,256],[498,256],[474,256],[35,625],[312,35],[102,35],[496,102],[658,496],[355,35],[343,35],[269,313],[138,269],[610,138],[598,610],[10,598],[48,10],[586,48],[487,586],[74,487],[190,74],[340,190],[17,340],[505,17],[334,505],[67,505],[404,17],[434,404],[468,404],[309,17],[572,309],[422,309],[61,340],[92,61],[210,92],[131,92],[271,61],[454,271],[684,271],[651,61],[433,651],[43,651],[44,10],[297,44],[213,297],[235,213],[347,235],[419,213],[117,419],[262,297],[236,297],[556,236],[379,556],[409,379],[524,379],[51,379],[243,379],[445,379],[390,556],[200,390],[420,297],[316,44],[86,316],[606,316],[659,316],[204,316],[305,316],[172,316],[174,316],[553,316],[168,316],[638,316],[60,316],[514,316],[495,316],[480,316],[641,316],[423,316],[348,316],[205,269],[285,205],[442,285],[253,442],[645,253],[593,645],[615,442],[134,615],[81,134],[188,81],[414,615],[165,414],[118,414],[595,414],[461,414],[408,414],[171,414],[304,414],[342,414],[666,414],[1,414],[185,414],[448,414],[54,414],[161,414],[438,414],[202,414],[457,414],[552,414],[533,414],[85,615],[306,85],[351,306],[150,351],[455,150],[219,455],[225,150],[493,150],[224,205],[491,224],[47,491],[664,491],[459,224],[244,459],[45,459],[663,205],[149,663],[209,149],[410,209],[537,410],[66,537],[590,66],[508,590],[90,508],[483,90],[428,90],[685,508],[431,685],[339,508],[58,339],[415,58],[561,415],[207,561],[135,149],[464,135],[252,464],[346,252],[555,269],[197,555],[576,197],[362,576],[265,362],[504,362],[490,504],[338,504],[71,576],[385,576],[25,385],[37,576],[374,37],[369,374],[321,369],[170,197],[607,170],[113,607],[403,113],[114,113],[605,113],[284,605],[633,284],[371,633],[302,284],[388,302],[231,607],[196,231],[100,197],[310,100],[628,310],[104,628],[358,628],[101,100],[683,101],[435,100],[444,435],[109,444],[19,444],[368,444],[226,368],[95,197],[319,95],[272,319],[328,319],[303,319],[163,319],[543,319],[391,95],[208,391],[560,391],[187,391],[133,391],[571,391],[506,197],[394,506],[471,394],[432,471],[416,432],[530,432],[2,530],[7,2],[229,432],[426,471],[140,426],[267,426],[636,267],[507,177],[585,507],[364,585],[143,364],[402,143],[656,402],[425,143],[80,425],[671,425],[293,425],[417,143],[193,143],[39,193],[601,364],[119,601],[620,119],[614,620],[499,614],[106,499],[121,106],[574,499],[250,574],[550,574],[634,550],[123,634],[325,123],[462,550],[24,462],[475,24],[72,574],[678,614],[318,678],[660,318],[29,660],[629,660],[395,660],[281,318],[289,281],[357,289],[333,318],[381,333],[579,381],[687,333],[125,614],[49,125],[526,49],[535,526],[477,49],[446,477],[245,446],[88,245],[330,88],[247,477],[673,247],[639,673],[254,639],[83,614],[276,83],[596,276],[345,276],[4,276],[264,276],[482,276],[648,276],[296,276],[604,276],[626,276],[473,276],[393,276],[681,614],[56,681],[440,56],[597,681],[120,597],[545,120],[18,597],[214,681],[500,214],[611,214],[389,681],[115,389],[529,389],[534,119],[344,534],[421,344],[142,421],[82,142],[287,82],[216,287],[221,287],[643,221],[350,287],[212,82],[198,212],[520,198],[470,520],[180,520],[107,82],[513,107],[263,513],[564,263],[206,513],[613,142],[485,613],[192,485],[531,192],[154,192],[336,192],[502,613],[295,502],[160,295],[33,502],[294,33],[541,613],[655,541],[64,655],[349,64],[669,64],[317,344],[469,317],[147,469],[575,147],[261,469],[167,261],[97,317],[78,97],[515,97],[380,97],[186,97],[3,186],[563,344],[157,563],[548,157],[510,548],[16,563],[153,16],[255,563],[453,563],[497,344],[137,497],[112,137],[159,137],[260,137],[365,497],[460,365],[396,460],[602,396],[59,602],[300,460],[301,119],[429,301],[70,429],[323,70],[251,323],[55,251],[93,55],[299,251],[662,299],[8,70],[94,8],[452,94],[277,452],[617,277],[674,277],[588,674],[441,674],[195,94],[503,195],[189,503],[427,189],[616,427],[489,616],[126,489],[132,126],[222,132],[158,126],[376,158],[568,126],[476,489],[105,476],[258,616],[217,258],[527,258],[240,301],[182,240],[679,182],[181,679],[494,181],[512,494],[332,494],[519,332],[164,519],[377,164],[649,377],[201,649],[652,164],[324,652],[266,519],[13,266],[360,266],[12,266],[411,266],[486,266],[91,332],[538,91],[30,538],[169,30],[488,169],[622,538],[279,622],[9,279],[84,279],[539,622],[199,622],[326,622],[77,538],[366,507],[383,366],[42,383],[141,42],[532,141],[288,532],[592,288],[373,532],[600,373],[152,600],[40,141],[523,40],[273,40],[603,273],[542,273],[111,273],[463,42],[631,463],[479,631],[624,479],[173,624],[549,479],[63,631],[21,63],[311,21],[413,311],[521,413],[450,21],[405,450],[136,42],[570,136],[99,570],[178,99],[22,178],[34,22],[322,178],[509,178],[130,509],[501,130],[148,509],[139,178],[275,139],[456,366],[587,456],[156,587],[375,587],[467,375],[278,467],[87,467],[352,467],[268,587],[646,268],[335,587],[449,335],[518,456],[218,518],[577,218],[124,577],[194,124],[246,194],[594,218],[439,594],[528,594],[642,594],[315,518],[466,315],[517,466],[635,517],[567,635],[230,635],[478,315],[50,478],[547,478],[274,547],[618,478],[437,456],[89,437],[558,437],[399,437],[436,437],[637,437],[215,456],[654,215],[203,366],[569,203],[75,569],[103,75],[232,103],[559,232],[418,103],[327,418],[110,327],[248,418],[589,248],[619,589],[286,75],[96,286],[23,96],[28,23],[580,96],[238,580],[257,286],[665,257],[14,257],[392,203],[36,392],[667,36],[657,667],[31,657],[6,31],[361,6],[155,31],[623,155],[11,667],[331,11],[551,331],[308,331],[484,331],[492,36],[211,36],[249,211],[20,249],[557,211],[644,557],[522,177],[57,522],[608,57],[670,608],[443,670],[32,443],[128,32],[650,443],[116,443],[151,670],[337,151],[581,151],[359,581],[292,359],[175,670],[122,175],[554,175],[144,554],[145,175],[5,670],[146,5],[129,146],[397,5],[627,397],[73,670],[511,73],[363,511],[69,511],[38,511],[677,522],[370,677],[566,677],[382,677],[451,677],[465,677],[447,677],[400,677],[682,677],[609,677],[183,677],[46,677]]
 */